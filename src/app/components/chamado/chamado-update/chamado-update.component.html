<div class="container">
  <mat-card>
    <h1>Atualizando Chamado</h1>
    <section class="pnlForm">
      <form class="form fullField">
        <p>
          <mat-form-field class=" fullField" appearance="fill">
            <mat-label>Título do chamado</mat-label>
            <input [(ngModel)]="chamado.titulo" name="titulo" type="text" [formControl]="titulo" maxlength="50" required matInput placeholder="Ex.: Ex.: Trocar bateria">
          </mat-form-field>
        </p>
        <div class="status-prioridade">
          <mat-form-field appearance="fill">
            <mat-label>STATUS ({{ retornaStatus(chamado.status) }})</mat-label>
            <mat-select [formControl]="status" required [(ngModel)]="chamado.status" name="status">
              <mat-option disabled="true" value="">Selecione um status</mat-option>
              <mat-option value="0">ABERTO</mat-option>
              <mat-option value="1">EM ANDAMENTO</mat-option>
              <mat-option value="2">ENCERRADO</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>PRIORIDADE ({{ retornaPrioridade(chamado.prioridade) }})</mat-label>
            <mat-select [formControl]="prioridade" required [(ngModel)]="chamado.prioridade" name="prioridade">
              <mat-option disabled="true" value="">Selecione uma prioridade</mat-option>
              <mat-option value="0">BAIXA</mat-option>
              <mat-option value="1">MÉDIA</mat-option>
              <mat-option value="2">ALTA</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="fullField">
          <mat-form-field class="fullField" appearance="fill">
            <mat-label>TÉCNICO ({{ chamado.nomeTecnico }})</mat-label>
            <mat-select [formControl]="tecnico" required [(ngModel)]="chamado.tecnico" name="tecnico">
              <mat-option disabled="true" value="">Selecione um técnico</mat-option>
              <mat-option *ngFor="let tec of tecnicos" value="{{tec.id}}">{{tec.nome}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>


        <div class="fullField">
          <mat-form-field class="fullField" appearance="fill">
            <mat-label>CLIENTE ({{ chamado.nomeCliente }})</mat-label>
            <mat-select [formControl]="cliente" required [(ngModel)]="chamado.cliente" name="cliente">
              <mat-option disabled="true" value="">Selecione um cliente</mat-option>
              <mat-option *ngFor="let cli of clientes" value="{{cli.id}}">{{cli.nome}}</mat-option>
            </mat-select>
          </mat-form-field>

        </div>

        <div class="fullField">
          <mat-form-field class="fullField" appearance="outline">
            <mat-label>Deixe uma descrição</mat-label>
            <textarea [(ngModel)]="chamado.observacoes" name="observacoes" [formControl]="observacoes" required class="desc" matInput placeholder="Ex. Bateria do notebook queimou agor..."></textarea>
          </mat-form-field>
        </div>

        <div class="b-form">
          <button (click)="update()" [disabled]="!validaCampos()" class="mat-elevation-z3 b-add" mat-raised-button color="primary">Atualizar</button>
          <button routerLink="../../" class=" mat-elevation-z3 b-can" mat-stroked-button color="warn">Cancelar</button>
        </div>

      </form>

      <img src="assets/img/chamado-create.svg" alt="Criando chamado">

    </section>
  </mat-card>
</div>